# Diverge - Node-Based Multi-Model AI Chat Platform

<div align="center">

**æ¬¡ä¸–ä»£ã®ãƒãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹AIãƒãƒ£ãƒƒãƒˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **

[![Next.js](https://img.shields.io/badge/Next.js-14-black)](https://nextjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5-blue)](https://www.typescriptlang.org/)
[![Supabase](https://img.shields.io/badge/Supabase-PostgreSQL-green)](https://supabase.com/)
[![Stripe](https://img.shields.io/badge/Stripe-Billing-purple)](https://stripe.com/)

[ãƒ‡ãƒ¢ã‚’è¦‹ã‚‹](#) | [ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](#) | [å ±å‘Šã™ã‚‹](https://github.com/diverge/diverge/issues)

</div>

---

## ğŸ“– æ¦‚è¦

Divergeã¯ã€ä¼šè©±ã‚’ãƒ„ãƒªãƒ¼æ§‹é€ ã§å¯è¦–åŒ–ã—ã€ä»»æ„ã®ãƒãƒ¼ãƒ‰ã‹ã‚‰åˆ†å²ã§ãã‚‹æ¬¡ä¸–ä»£AIãƒãƒ£ãƒƒãƒˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚GPT-5ã€Claude Opus 4.1ã€Gemini 2.5 Proãªã©ã€æœ€å…ˆç«¯ã®AIãƒ¢ãƒ‡ãƒ«ã«çµ±ä¸€ã•ã‚ŒãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

### ğŸŒŸ ä¸»ãªç‰¹å¾´

- **ğŸŒ³ ãƒãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ä¼šè©±**: ä»»æ„ã®ãƒãƒ¼ãƒ‰ã‹ã‚‰åˆ†å²ã—ã€è¤‡æ•°ã®ä¼šè©±ãƒ‘ã‚¹ã‚’åŒæ™‚ã«æ¢ç´¢
- **ğŸ¤– ãƒãƒ«ãƒãƒ¢ãƒ‡ãƒ«å¯¾å¿œ**: 15ä»¥ä¸Šã®AIãƒ¢ãƒ‡ãƒ«ï¼ˆGPT-5, Claude Opus 4.1, Gemini 2.5 Proç­‰ï¼‰ã‚’çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§åˆ©ç”¨
- **ğŸ” Webæ¤œç´¢çµ±åˆ**: Tavily APIã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ Webæ¤œç´¢ã¨AIã¸ã®è‡ªå‹•çµ±åˆ
- **ğŸ§  æ¨è«–ãƒ¢ãƒ¼ãƒ‰**: o1, o3, Grokç­‰ã®æ¨è«–ãƒ¢ãƒ‡ãƒ«å¯¾å¿œ
- **âš¡ å¼·åŒ–ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ**: ç¥–å…ˆãƒ»å…„å¼Ÿãƒ»å‚ç…§ãƒãƒ¼ãƒ‰ã‚’å«ã‚€å¤šæ¬¡å…ƒã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ§‹ç¯‰ï¼ˆ8000ãƒˆãƒ¼ã‚¯ãƒ³å¯¾å¿œï¼‰
- **ğŸ’¬ ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½**: ãƒãƒ¼ãƒ‰å˜ä½ã§ã®ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- **ğŸ’° æŸ”è»Ÿãªèª²é‡‘**: Free/Plus/Proãƒ—ãƒ©ãƒ³ã«ã‚ˆã‚‹ãƒ¢ãƒ‡ãƒ«ãƒ»æ©Ÿèƒ½åˆ¶é™
- **ğŸ“Š ä½¿ç”¨é‡ç›£è¦–**: ãƒˆãƒ¼ã‚¯ãƒ³ãƒ»Webæ¤œç´¢ãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•°ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¿½è·¡
- **ğŸ¨ ã‚¬ãƒ©ã‚¹ãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ UI**: ãƒ¢ãƒ€ãƒ³ã§ç¾ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
- **ğŸ“± å®Œå…¨ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–**: ãƒ¢ãƒã‚¤ãƒ«ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒ»ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—å¯¾å¿œ

---

## ğŸš€ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **Next.js 14** (App Router) - React Server Components
- **React 18** - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **TypeScript 5** - å‹å®‰å…¨æ€§
- **Tailwind CSS 3** - ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆCSS
- **React Flow 11** - ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ„ãƒªãƒ¼å¯è¦–åŒ–
- **React Hook Form 7** - ãƒ•ã‚©ãƒ¼ãƒ ç®¡ç†
- **Zod 3** - ã‚¹ã‚­ãƒ¼ãƒãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **Next.js API Routes** - ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹API
- **Supabase** (PostgreSQL) - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»èªè¨¼
- **Redis** - åˆ†æ•£ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- **OpenRouter** - ãƒãƒ«ãƒAIãƒ¢ãƒ‡ãƒ«API
- **Tavily** - Webæ¤œç´¢API
- **Stripe** - æ±ºæ¸ˆãƒ»ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ç®¡ç†

### ç›£è¦–ãƒ»åˆ†æ
- **Sentry** - ã‚¨ãƒ©ãƒ¼ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°
- **PostHog** - ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹
- **Vercel Analytics** - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–

---

## ğŸ“‹ å‰ææ¡ä»¶

- **Node.js**: 20 LTSä»¥ä¸Š
- **npm**: 9ä»¥ä¸Š ã¾ãŸã¯ **yarn**: 1.22ä»¥ä¸Š
- **Supabase ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ**: [supabase.com](https://supabase.com)
- **OpenRouter API ã‚­ãƒ¼**: [openrouter.ai](https://openrouter.ai)
- **Stripe ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ**: [stripe.com](https://stripe.com) ï¼ˆèª²é‡‘æ©Ÿèƒ½ã‚’ä½¿ã†å ´åˆï¼‰
- **Tavily API ã‚­ãƒ¼**: [tavily.com](https://tavily.com) ï¼ˆWebæ¤œç´¢ã‚’ä½¿ã†å ´åˆï¼‰

---

## ğŸ› ï¸ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³ã¨ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/yourusername/diverge.git
cd diverge

# ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install
```

### 2. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

`.env.local.example` ã‚’ `.env.local` ã«ã‚³ãƒ”ãƒ¼ã—ã¦ç·¨é›†ï¼š

```bash
cp .env.local.example .env.local
```

#### å¿…é ˆã®ç’°å¢ƒå¤‰æ•°

```bash
# Supabase
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_KEY=your_supabase_service_role_key

# OpenRouter (AI Models)
OPENROUTER_API_KEY=your_openrouter_api_key

# Stripe (Billing)
STRIPE_SECRET_KEY=your_stripe_secret_key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=your_stripe_webhook_secret

# Base URL
NEXT_PUBLIC_BASE_URL=http://localhost:3000
```

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ç’°å¢ƒå¤‰æ•°

```bash
# Tavily (Web Search)
TAVILY_API_KEY=your_tavily_api_key

# Redis (Caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=0

# Monitoring
SENTRY_DSN=your_sentry_dsn
NEXT_PUBLIC_POSTHOG_KEY=your_posthog_key
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# Debug
DEBUG_ENHANCED_CONTEXT=false
```

### 3. Supabase ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

1. [Supabase](https://supabase.com) ã§æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
2. SQL Editorã§ä»¥ä¸‹ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é †ç•ªã«å®Ÿè¡Œï¼š

```bash
# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€
supabase/migrations/
â”œâ”€â”€ 001_initial_schema.sql          # åŸºæœ¬ã‚¹ã‚­ãƒ¼ãƒ
â”œâ”€â”€ 002_add_usage_logs.sql          # ä½¿ç”¨ãƒ­ã‚°
â”œâ”€â”€ 003_add_context_cache.sql       # ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥
â”œâ”€â”€ 004_add_user_quotas.sql         # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¯ã‚©ãƒ¼ã‚¿
â”œâ”€â”€ 020_make_sessions_unlimited.sql # ã‚»ãƒƒã‚·ãƒ§ãƒ³ç„¡åˆ¶é™åŒ–
â””â”€â”€ ...                              # ãã®ä»–ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
```

3. OAuthè¨­å®šï¼ˆGoogle, X/Twitterï¼‰:
   - Supabase Dashboard > Authentication > Providers
   - Google/Twitterã‚’æœ‰åŠ¹åŒ–ã—ã€Redirect URLsã‚’è¨­å®š

### 4. Stripe Webhookã®è¨­å®š

1. Stripe Dashboardã§æ–°ã—ã„Webhookã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ä½œæˆ
2. URL: `https://yourdomain.com/api/stripe/webhook`
3. ã‚¤ãƒ™ãƒ³ãƒˆé¸æŠ:
   - `customer.subscription.created`
   - `customer.subscription.updated`
   - `customer.subscription.deleted`
   - `invoice.payment_succeeded`
   - `invoice.payment_failed`

### 5. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

```bash
npm run dev
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ [http://localhost:3000](http://localhost:3000) ã‚’é–‹ãã¾ã™ã€‚

---

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
diverge/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                        # Next.js 14 App Router
â”‚   â”‚   â”œâ”€â”€ api/                    # APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ chat/               # ãƒãƒ£ãƒƒãƒˆAPIï¼ˆãƒ¡ã‚¤ãƒ³ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ stripe/             # Stripeçµ±åˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ sessions/           # ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ profile/            # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«
â”‚   â”‚   â”‚   â””â”€â”€ comments/           # ã‚³ãƒ¡ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”‚   â”œâ”€â”€ auth/                   # èªè¨¼ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ chat/[id]/              # ãƒãƒ£ãƒƒãƒˆç”»é¢
â”‚   â”‚   â”œâ”€â”€ pricing/                # æ–™é‡‘ãƒ—ãƒ©ãƒ³
â”‚   â”‚   â”œâ”€â”€ settings/               # è¨­å®šç”»é¢
â”‚   â”‚   â””â”€â”€ page.tsx                # ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸
â”‚   â”‚
â”‚   â”œâ”€â”€ components/                 # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ chat/                   # ãƒãƒ£ãƒƒãƒˆé–¢é€£
â”‚   â”‚   â”‚   â”œâ”€â”€ glassmorphism-chat-input.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ node-detail-sidebar.tsx
â”‚   â”‚   â”‚   â””â”€â”€ model-selector.tsx
â”‚   â”‚   â”œâ”€â”€ layout/                 # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ left-sidebar.tsx
â”‚   â”‚   â”‚   â””â”€â”€ SessionList.tsx
â”‚   â”‚   â”œâ”€â”€ tree/                   # ãƒ„ãƒªãƒ¼å¯è¦–åŒ–
â”‚   â”‚   â”‚   â”œâ”€â”€ BalancedTreeView.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ message-node.tsx
â”‚   â”‚   â”‚   â””â”€â”€ CompactTreeLayout.ts
â”‚   â”‚   â”œâ”€â”€ ui/                     # å…±é€šUI
â”‚   â”‚   â”‚   â”œâ”€â”€ AnimatedBackground.tsx
â”‚   â”‚   â”‚   â””â”€â”€ MarkdownRenderer.tsx
â”‚   â”‚   â””â”€â”€ providers/              # Context Providers
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/                        # ã‚³ã‚¢ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”‚   â”‚   â”œâ”€â”€ db/                     # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ
â”‚   â”‚   â”‚   â”œâ”€â”€ enhanced-context.ts        # å¼·åŒ–ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ flexible-context.ts        # æŸ”è»Ÿãªã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæˆ¦ç•¥
â”‚   â”‚   â”‚   â”œâ”€â”€ node-summarizer.ts         # AIè¦ç´„
â”‚   â”‚   â”‚   â””â”€â”€ pooled-operations.ts       # æ¥ç¶šãƒ—ãƒ¼ãƒ«æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ openrouter/             # OpenRouterçµ±åˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ client.ts
â”‚   â”‚   â”‚   â””â”€â”€ function-calling.ts
â”‚   â”‚   â”œâ”€â”€ billing/                # èª²é‡‘ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”‚   â”‚   â”œâ”€â”€ usage-tracker.ts
â”‚   â”‚   â”‚   â””â”€â”€ model-restrictions.ts
â”‚   â”‚   â”œâ”€â”€ stripe/                 # Stripeçµ±åˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ server.ts
â”‚   â”‚   â”‚   â””â”€â”€ client.ts
â”‚   â”‚   â”œâ”€â”€ redis/                  # Redisã‚­ãƒ£ãƒƒã‚·ãƒ¥
â”‚   â”‚   â”‚   â””â”€â”€ client.ts
â”‚   â”‚   â”œâ”€â”€ supabase/               # Supabaseè¨­å®š
â”‚   â”‚   â”‚   â”œâ”€â”€ client.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ server.ts
â”‚   â”‚   â”‚   â””â”€â”€ connection-pool.ts
â”‚   â”‚   â”œâ”€â”€ errors/                 # ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
â”‚   â”‚   â”‚   â”œâ”€â”€ error-handler.ts
â”‚   â”‚   â”‚   â””â”€â”€ error-monitoring.ts
â”‚   â”‚   â”œâ”€â”€ posthog/                # ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹
â”‚   â”‚   â”œâ”€â”€ utils/                  # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â””â”€â”€ tavily.ts               # Webæ¤œç´¢
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/                      # ã‚«ã‚¹ã‚¿ãƒ React Hooks
â”‚   â”‚   â”œâ”€â”€ useSessionManagement.ts
â”‚   â”‚   â”œâ”€â”€ useComments.ts
â”‚   â”‚   â””â”€â”€ useNodeChain.ts
â”‚   â”‚
â”‚   â””â”€â”€ types/                      # TypeScriptå‹å®šç¾©
â”‚       â”œâ”€â”€ index.ts
â”‚       â””â”€â”€ subscription.ts
â”‚
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ migrations/                 # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”‚
â”œâ”€â”€ public/                         # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ .env.local.example              # ç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”œâ”€â”€ next.config.js                  # Next.jsè¨­å®š
â”œâ”€â”€ tailwind.config.ts              # Tailwind CSSè¨­å®š
â””â”€â”€ tsconfig.json                   # TypeScriptè¨­å®š
```

---

## ğŸ’» é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev

# æœ¬ç•ªãƒ“ãƒ«ãƒ‰
npm run build

# æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run start

# Lintãƒã‚§ãƒƒã‚¯
npm run lint

# å‹ãƒã‚§ãƒƒã‚¯
npm run typecheck

# ã™ã¹ã¦ã®ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œ
npm run lint && npm run typecheck
```

---

## ğŸ¯ å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½

### âœ… Phase 1: åŸºç›¤ (å®Œäº†)
- âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒè¨­å®š
- âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 
- âœ… èªè¨¼å®Ÿè£…ï¼ˆEmail + Google + X/Twitterï¼‰
- âœ… åŸºæœ¬CRUDæ“ä½œ
- âœ… OpenRouterçµ±åˆ

### âœ… Phase 2: ã‚³ã‚¢æ©Ÿèƒ½ (å®Œäº†)
- âœ… ãƒãƒ«ãƒãƒ¢ãƒ‡ãƒ«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ˆ15+ãƒ¢ãƒ‡ãƒ«ï¼‰
- âœ… å¼·åŒ–ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå†æ§‹ç¯‰ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆç¥–å…ˆãƒ»å…„å¼Ÿãƒ»å‚ç…§ãƒãƒ¼ãƒ‰ï¼‰
- âœ… Redisã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°å±¤
- âœ… ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ¬ã‚¹ãƒãƒ³ã‚¹
- âœ… AIè¦ç´„æ©Ÿèƒ½ï¼ˆ8000ãƒˆãƒ¼ã‚¯ãƒ³å¯¾å¿œï¼‰
- âœ… ãƒãƒ¼ãƒ‰å‚ç…§ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ@node_xxx, #xxx, [[node:xxx]]ï¼‰

### âœ… Phase 3: å¯è¦–åŒ– (å®Œäº†)
- âœ… React Flowçµ±åˆ
- âœ… BalancedTreeViewã«ã‚ˆã‚‹æœ€é©åŒ–ã•ã‚ŒãŸãƒ„ãƒªãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
- âœ… ãƒ–ãƒ©ãƒ³ãƒæ¯”è¼ƒï¼ˆå³ã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼‰
- âœ… ãƒ‡ãƒã‚¤ã‚¹åˆ¥ã‚»ãƒ³ã‚¿ãƒªãƒ³ã‚°ï¼ˆãƒ¢ãƒã‚¤ãƒ«ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒ»ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ï¼‰

### âœ… Phase 4: ãƒãƒªãƒƒã‚·ãƒ¥ (å®Œäº†)
- âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼ˆæ¥ç¶šãƒ—ãƒ¼ãƒ«ã€ã‚¯ã‚¨ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰
- âœ… åŒ…æ‹¬çš„ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆSentryçµ±åˆï¼‰
- âœ… PostHogã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹çµ±åˆ
- âœ… ã‚¬ãƒ©ã‚¹ãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ UIãƒ‡ã‚¶ã‚¤ãƒ³

### âœ… Phase 5: èª²é‡‘ãƒ»ã‚¤ãƒ³ãƒ•ãƒ© (å®Œäº†)
- âœ… Stripeçµ±åˆï¼ˆCheckout, Billing Portal, Webhooksï¼‰
- âœ… ãƒ—ãƒ©ãƒ³åˆ¥ãƒ¢ãƒ‡ãƒ«åˆ¶é™ï¼ˆFree: 5ãƒ¢ãƒ‡ãƒ«ã€Plus/Pro: å…¨ãƒ¢ãƒ‡ãƒ«ï¼‰
- âœ… ä½¿ç”¨é‡ã‚¯ã‚©ãƒ¼ã‚¿ç®¡ç†ï¼ˆãƒˆãƒ¼ã‚¯ãƒ³ã€Webæ¤œç´¢ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼‰
- âœ… ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã‚µã‚¤ã‚¯ãƒ«åŸºæº–ã®ãƒªã‚»ãƒƒãƒˆæ—¥
- âœ… ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤ãƒ•ãƒ­ãƒ¼ï¼ˆã‚µãƒ–ã‚¹ã‚¯è§£ç´„å«ã‚€ï¼‰

### âœ… Phase 6: é«˜åº¦ãªæ©Ÿèƒ½ (å®Œäº†)
- âœ… Webæ¤œç´¢çµ±åˆï¼ˆTavily APIï¼‰
- âœ… Webæ¤œç´¢ã‚¯ã‚©ãƒ¼ã‚¿åˆ¶å¾¡ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒˆã‚°ãƒ«
- âœ… æ¨è«–ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œï¼ˆo1, o3, Grokç­‰ï¼‰
- âœ… ã‚³ãƒ¡ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ 
- âœ… ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
- âœ… ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½ï¼ˆå¤±æ•—ãƒãƒ¼ãƒ‰ï¼‰

---

## ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™

### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ 
- **ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ§‹ç¯‰**: 45msï¼ˆ77%æ”¹å–„ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä½¿ç”¨æ™‚ï¼‰
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒª**: 50-150msï¼ˆæ¥ç¶šãƒ—ãƒ¼ãƒ«ä½¿ç”¨ï¼‰
- **AIå¿œç­”**: ãƒ¢ãƒ‡ãƒ«ä¾å­˜ï¼ˆå¹³å‡2-8ç§’ï¼‰

### ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£
- **åŒæ™‚æ¥ç¶š**: æ¥ç¶šãƒ—ãƒ¼ãƒ«æœ€å¤§20æ¥ç¶š
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡**: 90%+ï¼ˆRedisä½¿ç”¨æ™‚ï¼‰
- **ãƒˆãƒ¼ã‚¯ãƒ³åŠ¹ç‡**: 94%å‰Šæ¸›ï¼ˆAIè¦ç´„ä½¿ç”¨æ™‚ï¼‰

---

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### å®Ÿè£…æ¸ˆã¿ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–

- **ç’°å¢ƒå¤‰æ•°ç®¡ç†**: ã™ã¹ã¦ã®APIã‚­ãƒ¼ã¯ç’°å¢ƒå¤‰æ•°ã§ç®¡ç†
- **Row-Level Security**: Supabaseã®ã™ã¹ã¦ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã§æœ‰åŠ¹åŒ–
- **èªè¨¼**: Supabase Authï¼ˆEmail, OAuthï¼‰
- **HTTPS**: æœ¬ç•ªç’°å¢ƒã§ã¯å¿…é ˆ
- **CSRFãƒˆãƒ¼ã‚¯ãƒ³**: Next.jsçµ„ã¿è¾¼ã¿ä¿è­·
- **å…¥åŠ›ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: Zodã«ã‚ˆã‚‹ã‚¹ã‚­ãƒ¼ãƒãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: æ©Ÿå¯†æƒ…å ±ã‚’å«ã¾ãªã„ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- **ãƒ¬ãƒ¼ãƒˆåˆ¶é™**: Stripeã‚¯ã‚©ãƒ¼ã‚¿ã€ä½¿ç”¨é‡åˆ¶é™

### ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

- API keyã¯`.env.local`ã§ç®¡ç†ï¼ˆ`.gitignore`ã«å«ã¾ã‚Œã‚‹ï¼‰
- Service Role Keyã¯ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§ã®ã¿ä½¿ç”¨
- ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã¯å¸¸ã«ã‚µãƒ‹ã‚¿ã‚¤ã‚º
- SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–ï¼ˆSupabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä½¿ç”¨ï¼‰

---

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤

### Vercelã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆæ¨å¥¨ï¼‰

1. GitHubãƒªãƒã‚¸ãƒˆãƒªã«ãƒ—ãƒƒã‚·ãƒ¥
2. [Vercel](https://vercel.com)ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
3. ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š
4. ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# Vercel CLIã‚’ä½¿ã†å ´åˆ
npm i -g vercel
vercel
```

### ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

Vercel Dashboardã§ä»¥ä¸‹ã®ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šï¼š
- ã™ã¹ã¦ã®`NEXT_PUBLIC_*`å¤‰æ•°
- `SUPABASE_SERVICE_KEY`
- `OPENROUTER_API_KEY`
- `STRIPE_SECRET_KEY`
- `STRIPE_WEBHOOK_SECRET`
- ãã®ä»–ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³å¤‰æ•°

### Stripe Webhookã®æ›´æ–°

æœ¬ç•ªURLã§Stripe Webhookã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’æ›´æ–°ï¼š
```
https://yourdomain.com/api/stripe/webhook
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

```bash
# ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
npm run test

# E2Eãƒ†ã‚¹ãƒˆ
npm run test:e2e

# ã‚«ãƒãƒ¬ãƒƒã‚¸
npm run test:coverage
```

---

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ç¾åœ¨ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã§ã™ã€‚ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã¯å¾Œæ—¥å…¬é–‹äºˆå®šã§ã™ã€‚

---

## ğŸ“ æœ€æ–°ã®æ”¹å–„

### 2025-11-03
- âœ… Webæ¤œç´¢ã‚¯ã‚©ãƒ¼ã‚¿åˆ¶å¾¡ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒˆã‚°ãƒ«å®Ÿè£…
- âœ… APIå±¤ã§ã®å¼·åˆ¶ã‚¯ã‚©ãƒ¼ã‚¿ãƒã‚§ãƒƒã‚¯

### 2025-11-01
- âœ… ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã‚µã‚¤ã‚¯ãƒ«åŸºæº–ã®èª²é‡‘ã‚·ã‚¹ãƒ†ãƒ ä¿®æ­£
- âœ… Enhanced Context 8000ãƒˆãƒ¼ã‚¯ãƒ³å¯¾å¿œ
- âœ… AIè¦ç´„æ©Ÿèƒ½å®Ÿè£…

### 2025-10-29
- âœ… èª²é‡‘ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ãƒã‚°ä¿®æ­£
- âœ… ãƒãƒ¼ãƒ‰å‚ç…§æ©Ÿèƒ½ã®å¼·åŒ–

### 2025-10-19
- âœ… Stripe Billing Portalçµ±åˆå®Œäº†

### 2025-09-17
- âœ… Stripeèª²é‡‘ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…å®Œäº†

---

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

Private - All rights reserved

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

- ğŸ› ãƒã‚°å ±å‘Š: [Issues](https://github.com/yourusername/diverge/issues)
- ğŸ’¬ ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³: [Discussions](https://github.com/yourusername/diverge/discussions)
- ğŸ“§ Email: support@diverge.ai

---

<div align="center">

**Built with â¤ï¸ using Next.js, Supabase, and OpenRouter**

[ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹](#diverge---node-based-multi-model-ai-chat-platform)

</div>
